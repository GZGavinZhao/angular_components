name: Dart CI

on:
  push:
    branches:
      - compatible
      # - dev
  pull_request:

defaults:
  run:
    shell: bash

jobs:
  analyze:
    name: Analyze Dart files
    runs-on: ubuntu-latest
    steps:
      - uses: dart-lang/setup-dart@v1.3
      - uses: actions/checkout@v2.3.4
      - name: Install mono_repo
        run: dart pub global activate mono_repo
      - name: Fetch dependencies
        run: dart pub global run mono_repo pub get
      - name: Analyze files
        run: dart analyze
